!function(e){function t(n){return this.filter(t.resizableFilterSelector).each(function(){new i(e(this),n)}),this}function i(i,n){i.data("AutoResizer")&&i.data("AutoResizer").destroy(),n=this.config=e.extend({},t.defaults,n),this.el=i,this.nodeName=i[0].nodeName.toLowerCase(),this.originalHeight=i.height(),this.previousScrollTop=null,this.value=i.val(),"original"===n.maxWidth&&(n.maxWidth=i.width()),"original"===n.minWidth&&(n.minWidth=i.width()),"original"===n.maxHeight&&(n.maxHeight=i.height()),"original"===n.minHeight&&(n.minHeight=i.height()),"textarea"===this.nodeName&&i.css({resize:"none",overflowY:"hidden"}),i.data("AutoResizer",this),n.animate.complete=function(e){return function(){return n.onAfterResize.call(i),e.apply(this,arguments)}}(n.animate.complete),this.bind()}var n="ar"+ +new Date;t.defaults={onResize:function(){},onBeforeResize:function(){return 123},onAfterResize:function(){return 555},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500};t.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingTop","paddingLeft","paddingBottom","paddingRight","width"],t.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden"},t.resizableFilterSelector=["textarea:not(textarea."+n+")","input:not(input[type])","input[type=text]","input[type=password]","input[type=email]","input[type=url]"].join(","),t.AutoResizer=i,e.fn.autoResize=t,i.prototype={bind:function(){var t=e.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",t).bind("change.autoResize",t).bind("paste.autoResize",function(){setTimeout(function(){t()},0)}),this.el.is(":hidden")||this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var i=this.el,o="textarea"===this.nodeName?i.clone():e("<span/>");this.clone=o,e.each(t.cloneCSSProperties,function(e,t){o[0].style[t]=i.css(t)}),o.removeAttr("name").removeAttr("id").addClass(n).attr("tabIndex",-1).css(t.cloneCSSValues),"textarea"===this.nodeName?o.height("auto"):o.width("auto").css({whiteSpace:"nowrap"})},check:function(e,t){this.clone||(this.createClone(),this.injectClone());var i=this.config,n=this.clone,o=this.el,a=o.val();if(a===this.prevValue)return!0;if(this.prevValue=a,"input"===this.nodeName){n.text(a);var r=n.width(),s=r+i.extraSpace>=i.minWidth?r+i.extraSpace:i.minWidth,l=o.width();return void(((s=Math.min(s,i.maxWidth))<l&&s>=i.minWidth||s>=i.minWidth&&s<=i.maxWidth)&&(i.onBeforeResize.call(o),i.onResize.call(o),o.scrollLeft(0),i.animate&&!t?o.stop(1,1).animate({width:s},i.animate):(o.width(s),i.onAfterResize.call(o))))}n.width(o.width()).height(0).val(a).scrollTop(1e4);var h=n[0].scrollTop;if(a){if(this.previousScrollTop===h)return;this.previousScrollTop=h,h+i.extraSpace>=i.maxHeight?(o.css("overflowY",""),h=i.maxHeight,t=!0):h+i.extraSpace<=i.minHeight?h=i.minHeight:(o.css("overflowY","hidden"),h+=i.extraSpace)}else h=i.minHeight,this.previousScrollTop=null;i.onBeforeResize.call(o),i.onResize.call(o),i.animate&&!t?o.stop(1,1).animate({height:h},i.animate):(o.height(h),i.onAfterResize.call(o))},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clone.remove(),delete this.el,delete this.clone},injectClone:function(){(t.cloneContainer||(t.cloneContainer=e("<arclones/>").appendTo("body"))).append(this.clone)}}}(jQuery);