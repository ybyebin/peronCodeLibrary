function textdisplayDiv(e){resetAttributeMenu(),$(".div-basic-hide").hide(),$(".div-fill").show(),$(".div-title").show(),$(".div-text-val").show(),$(".div-text-color").show(),$(".div-font-size").show(),setCustomTextComponentStyleInEditFiled(e)}function setCustomTextComponentStyleInEditFiled(e){switch(checkComponentTagidIsNull(),$("#spanid").html(e.id),checkThisComponentIsTrue(e),$("#comp-name").val(e.getUserData().name),$("#comp-desc").val(e.getUserData().Description),$("#comp-width").val(e.getWidth()),$("#comp-height").val(e.getHeight()),$("#comp-offsetx").val(e.getAbsoluteX()),$("#comp-offsety").val(e.getAbsoluteY()),$("#comp-rotation").val(e.getRotationAngle()),e.getUserData().ShowCaption){case!0:$("#comp-title").iCheck("check"),$("#comp-title-val").removeAttr("readonly");break;case!1:$("#comp-title").iCheck("uncheck"),$("#comp-title-val").attr("readonly","readonly")}switch($("#comp-title-val").val(e.getUserData().Caption),e.getUserData().Visible){case!0:$("#comp-hides").iCheck("uncheck");break;case!1:$("#comp-hides").iCheck("check")}switch(e.getUserData().Enable){case!0:$("#comp-unabel").iCheck("check");break;case!1:$("#comp-unabel").iCheck("uncheck")}switch($("#comp-level").text(e.getUserData().AccessLevel),e.getUserData().ShowHint){case!0:$("#comp-hover").iCheck("check"),$("#comp-hover-val").removeAttr("readonly");break;case!1:$("#comp-hover").iCheck("uncheck"),$("#comp-hover-val").attr("readonly","readonly")}switch($("#comp-hover-val").val(e.getUserData().Hint),$("#comp-tagaddress").val(e.getUserData().Tag.tag_name),e.getUserData().Readonly){case!0:$("#comp-readonly").iCheck("check");break;case!1:$("#comp-readonly").iCheck("uncheck")}switch($("#style-width").text(e.getStroke()),$(".style-border-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".style-border-color ul li").each(function(o,t){e.getColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),null===e.getDashArray()?$("#style-style").text("默认"):$("#style-style").text(e.getDashArray()),$("#style-text").val(e.getText()),$("#text-font-size").val(e.getFontSize()),$(".style-text-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".style-text-color ul li").each(function(o,t){e.getFontColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),$(".style-fill-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".style-fill-color ul li").each(function(o,t){e.getBackgroundColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),e.getUserData().Blinking){case!0:$("#style-flashing").iCheck("check");break;case!1:$("#style-flashing").iCheck("uncheck")}switch($("#ontrue-width").text(e.getUserData().onTrue.LineWidth),$(".ontrue-border-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".ontrue-border-color ul li").each(function(o,t){e.getUserData().onTrue.LineColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),null===e.getUserData().onTrue.LineStyle?$("#ontrue-style").text("默认"):$("#ontrue-style").text(e.getUserData().onTrue.LineStyle),$("#ontrue-text").val(e.getUserData().onTrue.Text),$(".ontrue-text-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".ontrue-text-color ul li").each(function(o,t){e.getFontColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),$(".ontrue-fill-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".ontrue-fill-color ul li").each(function(o,t){e.getUserData().onTrue.FillColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),e.getUserData().onTrue.Blinking){case!0:$("#ontrue-flashing").iCheck("check");break;case!1:$("#ontrue-flashing").iCheck("uncheck")}switch($("#onfalse-width").text(e.getUserData().onFalse.LineWidth),$(".onfalse-border-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onfalse-border-color ul li").each(function(o,t){e.getUserData().onFalse.LineColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),null===e.getUserData().onFalse.LineStyle?$("#onfalse-style").text("默认"):$("#onfalse-style").text(e.getUserData().onFalse.LineStyle),$("#onfalse-text").val(e.getUserData().onFalse.Text),$(".onfalse-text-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onfalse-text-color ul li").each(function(o,t){e.getFontColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),$(".onfalse-fill-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onfalse-fill-color ul li").each(function(o,t){e.getUserData().onFalse.FillColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),e.getUserData().onFalse.Blinking){case!0:$("#onfalse-flashing").iCheck("check");break;case!1:$("#onfalse-flashing").iCheck("uncheck")}switch($("#onalarm-width").text(e.getUserData().onAlarm.LineWidth),$(".onalarm-border-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onalarm-border-color ul li").each(function(o,t){e.getUserData().onAlarm.LineColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),null===e.getUserData().onAlarm.LineStyle?$("#onalarm-style").text("默认"):$("#onalarm-style").text(e.getUserData().onAlarm.LineStyle),$("#onalarm-text").val(e.getUserData().onAlarm.Text),$(".onalarm-text-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onalarm-text-color ul li").each(function(o,t){e.getFontColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),$(".onalarm-fill-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onalarm-fill-color ul li").each(function(o,t){e.getUserData().onAlarm.FillColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),e.getUserData().onAlarm.Blinking){case!0:$("#onalarm-flashing").iCheck("check");break;case!1:$("#onalarm-flashing").iCheck("uncheck")}switch($("#onDisc-width").text(e.getUserData().onDisconnected.LineWidth),$(".onDisc-border-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onDisc-border-color ul li").each(function(o,t){e.getUserData().onDisconnected.LineColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),null===e.getUserData().onDisconnected.LineStyle?$("#onDisc-style").text("默认"):$("#onDisc-style").text(e.getUserData().onDisconnected.LineStyle),$("#onDisc-text").val(e.getUserData().onDisconnected.Text),$(".onDisc-text-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onDisc-text-color ul li").each(function(o,t){e.getFontColor().hash()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),$(".onDisc-fill-color ul li").removeClass("colorWhiteBorder colorBlackBorder"),$(".onDisc-fill-color ul li").each(function(o,t){e.getUserData().onDisconnected.FillColor.toUpperCase()==rgb2hex($(t).css("background-color")).toUpperCase()&&("#ffffff"==rgb2hex($(t).css("background-color"))?$(t).addClass("colorBlackBorder"):$(t).addClass("colorWhiteBorder"))}),e.getUserData().onDisconnected.Blinking){case!0:$("#onDisc-flashing").iCheck("check");break;case!1:$("#onDisc-flashing").iCheck("uncheck")}}var textnum=0,buttons=0,textComponent=draw2d.shape.basic.Text.extend({NAME:"textComponent",init:function(e){this._super(e),this.text="0",this.fontFamily="微软雅黑",this.setStroke(0),this.setFontColor("#FFFFFF"),this.setFontSize(15),this.setResizeable(!1),this.attr({padding:{left:15,right:15}});var o=this;this.label=new draw2d.shape.basic.Label({text:"",fontFamily:"微软雅黑"}),this.add(this.label,new draw2d.layout.locator.TopLocator(this)),this.label.setVisible(!1);var t={name:"文本",types:"buttonComponent",valueType:"textValueComponent",proportion:null,Description:"",Caption:"文本",ShowCaption:!1,Visible:!0,Enable:!1,AccessLevel:7,ShowHint:!1,Hint:"",Tag:{tag_id:-1,tag_type:-1,tag_name:"",bingding_status:0},value:"",Readonly:!1,Blinking:!1,BlinkingStroke:0,BlinkingColor:"#FFFFFF",styleFillColor:"none",DashArray:"",BlinkingType:"style",unit:"",onTrue:{LineWidth:0,LineColor:"#35C99D",LineStyle:"",FillColor:"none",Text:"",unit:"",TextColor:"#FFFFFF",Blinking:!1},onFalse:{LineWidth:0,LineColor:"#35C99D",LineStyle:"",FillColor:"none",Text:"",unit:"",TextColor:"#FFFFFF",Blinking:!1},onAlarm:{LineWidth:0,LineColor:"#35C99D",LineStyle:"",FillColor:"none",Text:"",unit:"",TextColor:"#FFFFFF",Blinking:!1},onDisconnected:{LineWidth:0,LineColor:"#35C99D",LineStyle:"",FillColor:"none",Text:"",unit:"",TextColor:"#FFFFFF",Blinking:!1}};this.attr({userData:t}),this.on("click",function(){textdisplayDiv(o),$(".div-unit").show(),$(".div-text-alpha").show(),$("#comp-unit-style").val(o.getUserData().unit),$("#comp-unit-ontrue").val(o.getUserData().onTrue.unit),$("#comp-unit-onfalse").val(o.getUserData().onFalse.unit),$("#comp-unit-onalarm").val(o.getUserData().onAlarm.unit),$("#comp-unit-ondis").val(o.getUserData().onDisconnected.unit),"none"===o.getBackgroundColor().hash()?($("#text-alpha-style").iCheck("check"),$("#text-alpha-style").iCheck("disable")):($("#text-alpha-style").iCheck("enable"),$("#text-alpha-style").iCheck("uncheck")),"none"===o.getUserData().onTrue.FillColor?($("#text-alpha-ontrue").iCheck("check"),$("#text-alpha-ontrue").iCheck("disable")):($("#text-alpha-ontrue").iCheck("enable"),$("#text-alpha-ontrue").iCheck("uncheck")),"none"===o.getUserData().onFalse.FillColor?($("#text-alpha-onfalse").iCheck("check"),$("#text-alpha-onfalse").iCheck("disable")):($("#text-alpha-onfalse").iCheck("enable"),$("#text-alpha-onfalse").iCheck("uncheck")),"none"===o.getUserData().onAlarm.FillColor?($("#text-alpha-onalarm").iCheck("check"),$("#text-alpha-onalarm").iCheck("disable")):($("#text-alpha-onalarm").iCheck("enable"),$("#text-alpha-onalarm").iCheck("uncheck")),"none"===o.getUserData().onDisconnected.FillColor?($("#text-alpha-ondisc").iCheck("check"),$("#text-alpha-ondisc").iCheck("disable")):($("#text-alpha-ondisc").iCheck("enable"),$("#text-alpha-ondisc").iCheck("uncheck"))}),this.on("move",function(){$("#comp-offsetx").val(o.getAbsoluteX()),$("#comp-offsety").val(o.getAbsoluteY()),$("#tooltips").hide()}),this.onMouseEnter=function(){o.userData.ShowHint&&showTooltips(o)},this.onMouseLeave=function(){$("#tooltips").hide()}},onTimer:function(){this.setColor("#03A3FC"),this.setStroke(1),this.setGlow(!0),this.setDashArray("");var e=this;setTimeout(function(){e.setGlow(!1),e.setColor(e.getUserData().BlinkingColor),e.setStroke(e.getUserData().BlinkingStroke),e.setDashArray(e.getUserData().DashArray)},500)}}),buttonComponent=draw2d.shape.note.PostIt.extend({NAME:"buttonComponent",init:function(e){this._super(e),this.text="按钮",this.fontFamily="微软雅黑",this.setBackgroundColor("#FFFFFF"),this.setColor("#35C99D"),this.height=25,this.width=60,this.setFontColor("#35C99D"),this.setRadius(2),this.setFontSize(14);var o=this;o.attr({padding:{left:20,top:3,right:20}});var t={name:"按钮",types:"buttonComponent",text:"",textColor:"",proportion:null,Description:"",Caption:"按钮",ShowCaption:!1,Visible:!0,Enable:!1,AccessLevel:2,ShowHint:!1,Hint:"",Tag:{tag_id:-1,tag_type:-1,tag_name:"",bingding_status:0},value:"",Readonly:!1,Blinking:!1,BlinkingStroke:1,BlinkingColor:"#35C99D",DashArray:"",BlinkingType:"style",onTrue:{LineWidth:1,LineColor:"#35C99D",LineStyle:"",FillColor:"#FFFFFF",Text:"",TextColor:"#35C99D",Blinking:!1},onFalse:{LineWidth:1,LineColor:"#35C99D",LineStyle:"",FillColor:"#FFFFFF",Text:"",TextColor:"#35C99D",Blinking:!1},onAlarm:{LineWidth:1,LineColor:"#35C99D",LineStyle:"",FillColor:"#FFFFFF",Text:"",TextColor:"#35C99D",Blinking:!1},onDisconnected:{LineWidth:1,LineColor:"#35C99D",LineStyle:"",FillColor:"#FFFFFF",Text:"",TextColor:"#35C99D",Blinking:!1}};this.attr({userData:t}),this.label=new draw2d.shape.basic.Label({text:"",fontFamily:"微软雅黑"}),this.add(this.label,new draw2d.layout.locator.TopLocator(this)),this.label.setVisible(!1),this.on("click",function(){textdisplayDiv(o)}),this.on("move",function(){$("#comp-offsetx").val(o.getAbsoluteX()),$("#comp-offsety").val(o.getAbsoluteY()),$("#tooltips").hide()}),this.onMouseEnter=function(){this.userData.ShowHint&&showTooltips(this)},this.onMouseLeave=function(){$("#tooltips").hide()},this.installEditor(new draw2d.ui.LabelInplaceEditor({onCommit:$.proxy(function(e){t.text=e,this.attr({userData:t})},this),onCancel:function(){}}))},onTimer:function(){this.setColor("#03A3FC"),this.setStroke(1),this.setGlow(!0),this.setDashArray("");var e=this;setTimeout(function(){e.setGlow(!1),e.setColor(e.getUserData().BlinkingColor),e.setStroke(e.getUserData().BlinkingStroke),e.setDashArray(e.getUserData().DashArray)},500)}});